<div class="mx-auto section-width">
  <app-crypto-header title="Market Data"></app-crypto-header>
  <div id="appCapsule">
    <div class="section mt-2">
      <div class="section-title">
        Cryptocurrency for {{ cryptoCurrency }} updated at
        {{ updateDate | date : "d MMM y, HH:mm" }}
        <div class="form-group basic text-end">
          <div class="input-wrapper">
            <input
              class="form-control"
              [(ngModel)]="search"
              #name="ngModel"
              spellcheck="false"
              type="text"
              (keyup)="onKeySearch($event)"
              placeholder="Search Coin"
            />
            <i class="clear-input">
              <ion-icon name="close-circle"></ion-icon>
            </i>
          </div>
        </div>
      </div>
      <div class="card">
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th scope="col">Rank</th>
                <th scope="col">Coin</th>
                <th scope="col" class="text-end">Price</th>
                <th scope="col" class="text-end hidden_mobile">
                  Performance 24h
                </th>
                <th scope="col" class="text-end hidden_mobile">High 24h</th>
                <th scope="col" class="text-end hidden_mobile">Low 24h</th>
                <th scope="col" class="text-end hidden_mobile">Mkt Cap</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let asset of filterMarketData">
                <th scope="row" class="align-middle">#{{ asset.rank }}</th>
                <td>
                  <img
                    src="{{ asset.icon }}"
                    alt="img"
                    class="image-block imaged me-2"
                  />
                  {{ asset.name }}
                </td>
                <td class="align-middle text-primary text-end">
                  {{ asset.currency }} {{ asset.current_price }}
                </td>
                <td class="align-middle text-end hidden_mobile">
                  <div class="text-small">
                    <span
                      class="badge {{
                        asset.price_change_percentage_24h == 0
                          ? 'badge-warning'
                          : asset.price_change_percentage_24h > 0
                          ? 'badge-success'
                          : 'badge-danger'
                      }}"
                    >
                      <ion-icon name="arrow-up-outline"></ion-icon>
                      {{
                        asset.price_change_24h != undefined
                          ? asset.price_change_24h.toFixed(2)
                          : asset.price_change_24h
                      }}
                      ({{
                        asset.price_change_percentage_24h != undefined
                          ? asset.price_change_percentage_24h.toFixed(2)
                          : asset.price_change_percentage_24h
                      }}%)
                    </span>
                  </div>
                </td>
                <td class="align-middle text-end hidden_mobile">
                  {{ asset.currency }} {{ asset.high_24h }}
                </td>
                <td class="align-middle text-end hidden_mobile">
                  {{ asset.currency }} {{ asset.low_24h }}
                </td>
                <td class="align-middle text-end hidden_mobile">
                  {{ asset.currency }} {{ asset.market_cap }}
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <!-- Top Coins
    <div class="section mt-2">
      <div class="section-title">Top Coins</div>
      <div class="card">
        <ul
          class="listview flush transparent no-line image-listview detailed-list mt-1 mb-1"
        >-->
    <!-- item
          <li *ngFor="let asset of marketData">
            <div class="item">
              <img
                src="{{ asset.icon }}"
                alt="img"
                class="image-block imaged w48 me-2"
              />
              <div class="in">
                <div>
                  <strong>{{ asset.name }}</strong>
                  <div class="text-small text-secondary">0.053201 BTC</div>
                </div>
                <div class="text-end">
                  <strong
                    >{{ cryptoCurrency }} {{ asset.current_price }}</strong
                  >
                  <div class="text-small">
                    <span
                      class="badge {{
                        asset.price_change_percentage_24h == 0
                          ? 'badge-warning'
                          : asset.price_change_percentage_24h > 0
                          ? 'badge-success'
                          : 'badge-danger'
                      }}"
                    >
                      <ion-icon name="arrow-up-outline"></ion-icon>
                      {{ asset.price_change_percentage_24h.toFixed(2) }}%
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </li>-->
    <!-- * item
        </ul>
      </div>
    </div>-->
    <!-- Top Coins -->
  </div>
</div>
