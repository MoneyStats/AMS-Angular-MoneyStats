<div class="row">
  <!-- App Capsule -->
  <div class="section mt-2 col-xl-3 col-md-6">
    <div class="section-title">Investments</div>
    <div class="card">
      <div class="table-responsive">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Date</th>
              <th scope="col">Balance</th>
              <th scope="col" class="text-end">Performance</th>
              <th scope="col" class="text-end">Value Trend</th>
            </tr>
          </thead>
          <tbody
            *ngFor="
              let balances of mapWalletCategory.get(KEY_INVESTMENTS);
              let i = index
            "
          >
            <tr class="topics" *ngFor="let balance of balances; let y = index">
              <th scope="row">
                {{ balances[balances.length - 1].date | date : "d MMM y" }}
              </th>

              <td
                class="{{
                  balance.percentage === 0
                    ? 'text-warning'
                    : balance.percentage > 0
                    ? 'text-success'
                    : 'text-danger'
                }} {{ balance.index === y ? 'text-end' : '' }}"
              >
                € {{ balance.balance }}
              </td>
              <td
                class="{{
                  balance.percentage === 0
                    ? 'text-warning'
                    : balance.percentage > 0
                    ? 'text-success'
                    : 'text-danger'
                }} text-end"
              >
                {{ balance.percentage }}%
              </td>
              <td
                class="{{
                  balance.trend === 0
                    ? 'text-warning'
                    : balance.trend > 0
                    ? 'text-success'
                    : 'text-danger'
                }} text-end"
              >
                € {{ balance.trend }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="section mt-2 col-xl-3 col-md-6">
    <div class="section-title">Capital</div>
    <div class="card">
      <div class="table-responsive">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Date</th>
              <th scope="col">Balance</th>
              <th scope="col" class="text-end">Performance</th>
              <th scope="col" class="text-end">Value Trend</th>
            </tr>
          </thead>
          <tbody
            *ngFor="
              let balances of mapWalletCategory.get(KEY_CAPITAL);
              let i = index
            "
          >
            <tr class="topics" *ngFor="let balance of balances; let y = index">
              <th scope="row">
                {{ balances[balances.length - 1].date | date : "d MMM y" }}
              </th>

              <td
                class="{{
                  balance.percentage === 0
                    ? 'text-warning'
                    : balance.percentage > 0
                    ? 'text-success'
                    : 'text-danger'
                }} {{ balance.index === y ? 'text-end' : '' }}"
              >
                € {{ balance.balance }}
              </td>
              <td
                class="{{
                  balance.percentage === 0
                    ? 'text-warning'
                    : balance.percentage > 0
                    ? 'text-success'
                    : 'text-danger'
                }} text-end"
              >
                {{ balance.percentage }}%
              </td>
              <td
                class="{{
                  balance.trend === 0
                    ? 'text-warning'
                    : balance.trend > 0
                    ? 'text-success'
                    : 'text-danger'
                }} text-end"
              >
                € {{ balance.trend }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Graph -->
  <div class="section mt-4 col-xl-6">
    <div class="section-heading">
      <h2 class="title" id="year">
        {{ "stats.data.graph1" | translate }}
      </h2>
    </div>
    <app-content-box
      *ngIf="!dashboard.wallets || !dashboard.wallets.length"
      [header]="'dashboard.graph.nodata.header' | translate"
      [body]="'dashboard.graph.nodata.body' | translate"
      [footer]="'dashboard.graph.nodata.footer' | translate"
    ></app-content-box>
    <div *ngIf="dashboard.wallets.length" class="card">
      <div class="card-body">
        <apx-chart
          *ngIf="chartOptions"
          [series]="chartOptions.series!"
          [chart]="chartOptions.chart!"
          [title]="chartOptions.title!"
          [colors]="chartOptions.colors!"
          [legend]="chartOptions.legend!"
          [stroke]="chartOptions.stroke!"
          [labels]="chartOptions.labels!"
          type="area"
        ></apx-chart>
        <!--<div id="chart-line"></div>-->
      </div>
    </div>
  </div>
  <!-- * Graph -->

  <div class="section mt-2 col-xl-4 col-md-6">
    <div class="section-title">Saving</div>
    <div class="card">
      <div class="table-responsive">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Date</th>
              <th scope="col">Balance</th>
              <th scope="col" class="text-end">Performance</th>
              <th scope="col" class="text-end">Value Trend</th>
            </tr>
          </thead>
          <tbody
            *ngFor="
              let balances of mapWalletCategory.get(KEY_SAVING);
              let i = index
            "
          >
            <tr class="topics" *ngFor="let balance of balances; let y = index">
              <th scope="row">
                {{ balances[balances.length - 1].date | date : "d MMM y" }}
              </th>

              <td
                class="{{
                  balance.percentage === 0
                    ? 'text-warning'
                    : balance.percentage > 0
                    ? 'text-success'
                    : 'text-danger'
                }} {{ balance.index === y ? 'text-end' : '' }}"
              >
                € {{ balance.balance }}
              </td>
              <td
                class="{{
                  balance.percentage === 0
                    ? 'text-warning'
                    : balance.percentage > 0
                    ? 'text-success'
                    : 'text-danger'
                }} text-end"
              >
                {{ balance.percentage }}%
              </td>
              <td
                class="{{
                  balance.trend === 0
                    ? 'text-warning'
                    : balance.trend > 0
                    ? 'text-success'
                    : 'text-danger'
                }} text-end"
              >
                € {{ balance.trend }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="section mt-2 col-xl-4 col-md-6">
    <div class="section-title">Capital Resume by Category</div>
    <div class="card">
      <div class="table-responsive">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Date</th>
              <th scope="col">Balance</th>
              <th scope="col" class="text-end">Performance</th>
              <th scope="col" class="text-end">Value Trend</th>
            </tr>
          </thead>
          <tbody
            *ngFor="
              let balances of mapWalletCategory.get(KEY_DEBITS);
              let i = index
            "
          >
            <tr class="topics" *ngFor="let balance of balances; let y = index">
              <th scope="row">
                {{ balances[balances.length - 1].date | date : "d MMM y" }}
              </th>

              <td
                class="{{
                  balance.percentage === 0
                    ? 'text-warning'
                    : balance.percentage > 0
                    ? 'text-success'
                    : 'text-danger'
                }} {{ balance.index === y ? 'text-end' : '' }}"
              >
                € {{ balance.balance }}
              </td>
              <td
                class="{{
                  balance.percentage === 0
                    ? 'text-warning'
                    : balance.percentage > 0
                    ? 'text-success'
                    : 'text-danger'
                }} text-end"
              >
                {{ balance.percentage }}%
              </td>
              <td
                class="{{
                  balance.trend === 0
                    ? 'text-warning'
                    : balance.trend > 0
                    ? 'text-success'
                    : 'text-danger'
                }} text-end"
              >
                € {{ balance.trend }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="section mt-2 col-xl-4 col-md-6">
    <div class="section-title">Capital Resume by Category</div>
    <div class="card">
      <div class="table-responsive">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Date</th>
              <th scope="col">Balance</th>
              <th scope="col" class="text-end">Performance</th>
              <th scope="col" class="text-end">Value Trend</th>
            </tr>
          </thead>
          <tbody
            *ngFor="
              let balances of mapWalletCategory.get(KEY_OTHER);
              let i = index
            "
          >
            <tr class="topics" *ngFor="let balance of balances; let y = index">
              <th scope="row">
                {{ balances[balances.length - 1].date | date : "d MMM y" }}
              </th>

              <td
                class="{{
                  balance.percentage === 0
                    ? 'text-warning'
                    : balance.percentage > 0
                    ? 'text-success'
                    : 'text-danger'
                }} {{ balance.index === y ? 'text-end' : '' }}"
              >
                € {{ balance.balance }}
              </td>
              <td
                class="{{
                  balance.percentage === 0
                    ? 'text-warning'
                    : balance.percentage > 0
                    ? 'text-success'
                    : 'text-danger'
                }} text-end"
              >
                {{ balance.percentage }}%
              </td>
              <td
                class="{{
                  balance.trend === 0
                    ? 'text-warning'
                    : balance.trend > 0
                    ? 'text-success'
                    : 'text-danger'
                }} text-end"
              >
                € {{ balance.trend }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
